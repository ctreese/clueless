<!DOCTYPE html>
<html>
<head>
<title>Clueless Client Demo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
<script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.js"></script>
<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js"></script>
</head>
<body>
    <div class="navbar">
        <div class="navbar-inner">
            <a class="brand" href="#">Clueless Client Demo</a>
        </div>
    </div>
    <div id="main" class="container">
        <table class="table table-striped">
            <tr><td style="width: 1px;"></td><td><b>Client Input</b></td><td><b>Server Output</b></td></tr>
            <!-- ko foreach: tasks --> 
			<tr>
				<td style="width: 1px;"></td>
				<td>
                    <button data-bind="click: $parent.register" class="btn">Join</button>
                </td>
                <td><p><b data-bind="text: Some Output"></b></p></td>
                
            </tr>
			<tr>
				<td style="width: 1px;"></td>
				<td>
                    <button data-bind="click: $parent.deregister" class="btn">Leave</button>
                </td>
                <td><p><b data-bind="text: Some Output"></b></p></td>
                
            </tr>
			<tr>
				<td style="width: 1px;"></td>
				<td>
                    <button data-bind="click: $parent.turn" class="btn">Who's Turn?</button>
                </td>
                <td><p><b data-bind="text: Some Output"></b></p></td>
                
            </tr>
			<tr>
				<td style="width: 1px;"></td>
				<td>
                    <button data-bind="click: $parent.options" class="btn">Turn Options</button>
                </td>
                <td><p><b data-bind="text: Some Output"></b></p></td>
                
            </tr>
			<tr>
				<td style="width: 1px;"></td>
				<td>
                    <button data-bind="click: $parent.legality" class="btn">Legality of Move?</button>
                </td>
                <td><p><b data-bind="text: Some Output"></b></p></td>
                
            </tr>
			<tr>
				<td style="width: 1px;"></td>
				<td>
                    <button data-bind="click: $parent.move" class="btn">Move</button>
                </td>
                <td><p><b data-bind="text: Some Output"></b></p></td>
                
            </tr>
			<tr>
				<td style="width: 1px;"></td>
				<td>
                    <button data-bind="click: $parent.init" class="btn">Init?</button>
                </td>
                <td><p><b data-bind="text: Some Output"></b></p></td>
                
            </tr>
			<!-- /ko -->
        </table>
    </div>
    <script type="text/javascript">
        // application code here!
		
		function TasksViewModel() {
			var self = this;
			self.register = function() {
				$.ajax({
					url: 'http://localhost:8000/register',
					type: 'GET',
					//data: 'ID=1&Name=John&Age=10', // or $('#myform').serializeArray()
					success: function() { alert('register completed'); }
				});
				
			}
			self.deregister = function() {
				$.ajax({
					url: 'http://localhost:8000/deregister',
					type: 'GET',
					data: //need to obtain charactername here
					success: function() { alert('Deregister completed'); }
				});
			}
			self.turns = function() {
				$.ajax({
					url: 'http://localhost:8000/turn',
					type: 'GET',
					data: //need to obtain charactername here
					success: function() { alert('something about turns'); }
				});
			}
			self.options = function() {
				$.ajax({
					url: 'http://localhost:8000/options',
					type: 'GET',
					data: //need to obtain charactername here
					success: function() { alert('return options'); }
				});
			}
			self.legality = function() {
				$.ajax({
					url: 'http://localhost:8000/legality',
					type: 'GET',
					data: //need to obtain charactername here
					success: function() { alert('return legality'); }
				});
			}
			self.move = function() {
				$.ajax({
					url: 'http://localhost:8000/move',
					type: 'POST',
					data: //need to obtain charactername here
					success: function() { alert('Move completed'); }
				});
			}
			self.init = function() {
				$.ajax({
					url: 'http://localhost:8000/init',
					type: 'POST',
					data: //need to obtain charactername here
					success: function() { alert('Info'); }
				});
			}
		}
		ko.applyBindings(new CluelessViewModel(), $('#main')[0]);

    </script>
</body>
</html>